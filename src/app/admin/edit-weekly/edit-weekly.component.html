<div class="wrap-component-title">
  <h1>
    <span>טור שבועי</span>
  </h1>
</div>
<div>
  <div class="container">
    <form [formGroup]="editWeeklyForm" *ngIf="viewForm" class="group-form">
      <div class="flex-form-wrap">
        <div class="flex-child">
          <mat-form-field>
            <input matInput type="text" placeholder="כותרת ראשי" formControlName="f_title">
          </mat-form-field>
        </div>
        <div class="flex-child">
          <mat-form-field>
            <input matInput type="text" placeholder="כותרת המאמר" formControlName="s_title">
          </mat-form-field>
        </div>
        <div class="flex-child">
          <mat-form-field>
            <input matInput type="email" placeholder="מייל" formControlName="email">
          </mat-form-field>
        </div>
        <div class="flex-child">
          <mat-form-field>
            <input matInput type="text" placeholder="תיאור הקובץ" formControlName="file_name">
          </mat-form-field>
        </div>
<!--upload img-->
        <div class="flex-child">
          <!-- <p>
            <mat-form-field>
              <input 
                type="input" 
                matInput 
                placeholder="img src" 
                formControlName="img"
                matTooltip="{{imgUpload.value}}"
                value="{{imgUpload.value}}">
            </mat-form-field>
          </p> -->
          <p>
            <input 
              [hidden]="true" 
              type="file" 
              (change)="onFileChange('img',$event)" 
              #imgUpload>

            <mat-form-field matTooltip="{{imgUpload.value}}">
              <input type="input" matInput placeholder="תמונה נבחרת" value="{{imgUpload.value}}" formControlName="selectedImg">
            </mat-form-field>
            <span class="button-img">
              <span class="button-select">
                <button mat-flat-button (click)="imgUpload.click()">
                  שנה תמונה
                  <mat-icon>add_photo_alternate</mat-icon>
                </button>
              </span>
              <span *ngIf="imgSrcForView != ''" class="wrap-img-add-edit">
                <img src="data:{{imgTypeForView}};base64,{{imgSrcForView}}">
              </span>
            </span>
          </p>
        </div>
<!--upload file-->
        <div class="flex-child" style="margin:0">
          <p>
            <mat-form-field>
              <input type="input" #fileUpload matInput placeholder="קובץ הנבחר"  formControlName="file" matTooltip="{{fileUpload.value}}">
            </mat-form-field>
          </p>
          <p>
            <input [hidden]="true" type="file" (change)="onFileChange('file',$event)" #fileInput2>

            <!-- <mat-form-field matTooltip="{{fileInput2.value}}" [hidden]="fileName.value == ''">
              <input matInput #fileName placeholder="Selected File" value="{{fileInput2.value}}">
            </mat-form-field> -->
            <span class="button-select">
              <button mat-flat-button (click)="fileInput2.click()">
                בחר קובץ
                <mat-icon>attach_file</mat-icon>
              </button>
            </span>
          </p>
        </div>
        <div class="flex-child">
          <mat-form-field>
            <input matInput [matDatepicker]="picker" placeholder="תאריך" formControlName="date">
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
          </mat-form-field>
        </div>
      </div>
    </form>
  </div>
  <div class="button-submit">
    <button mat-flat-button (click)="updateWeekly()">לערוך</button>
    <mat-spinner *ngIf="spinner"></mat-spinner>
  </div>